@model pb_category.Models.OrganizationViewModel
@{
    ViewBag.Title = "Выбор категории";
}
<div class="row">
    <h3>Какие наиболее пожароопасные вещества и материалы находятся в помещении?</h3>
</div>
@using (Html.BeginForm("SelectCategory", "Home", null, FormMethod.Post, new { role = "form" }))
{
    @Html.AntiForgeryToken()
    <div class="row categoryNameCenter">
        <table>
            <tbody>
                <tr>
                    <td>
                        <span id="Category" class="circle"><u>A</u></span>
                    </td>
                    <td>
                        <span id="Category" class="circle"><u>Б</u></span>
                    </td>
                    <td>
                        <span id="Category" class="circle"><u>В</u></span>
                    </td>
                    <td>
                        <span id="Category" class="circle"><u>Г</u></span>
                    </td>
                    <td>
                        <span id="Category" class="circle"><u>Д</u></span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="row categoryCenter">
        <table>
            <tbody>
                <tr>
                    <td class="border-bottom-right">
                        <input type="checkbox" name="A" value="1" @((Model.A != null && @Model.A.Contains(1)) ? "checked" : "") />
                            Горючие газы
                    </td>
                    <td class="border-bottom-right">
                        <input type="checkbox" name="B" value="1" @((Model.B != null && @Model.B.Contains(1)) ? "checked" : "")  />
                        Горючие пыли или волокна
                    </td>
                    <td rowspan="2" class="border-bottom-right">
                        <input type="checkbox" name="C" value="1" @((Model.C != null && @Model.C.Contains(1)) ? "checked" : "")  />
                        Твердые горючие и трудногорючие вещества и материалы
                    </td>
                    <td rowspan="2" class="border-bottom-right">
                        <input type="checkbox" name="D" value="1" @((Model.D != null && @Model.D.Contains(1)) ? "checked" : "")  />
                        Негорючие вещества и материалы в горячем состоянии (раскаленном или расплавленном)
                    </td>
                    <td rowspan="4" class="border-bottom">
                        <input type="checkbox" name="E" value="1" @((Model.E != null && @Model.E.Contains(1)) ? "checked" : "")  />
                        Негорючие вещества и материалы в холодном состоянии
                    </td>
                </tr>
                <tr>
                    <td rowspan="2" class="border-bottom-right">
                        <input type="checkbox" name="A" value="2" @((Model.A != null && @Model.A.Contains(2)) ? "checked" : "") />
                        ЛВЖ с температурой вспышки не более 28 °С
                    </td>
                    <td rowspan="2" class="border-bottom-right">
                        <input type="checkbox" name="B" value="2" @((Model.B != null && @Model.B.Contains(2)) ? "checked" : "") />
                        ЛВЖ с температурой вспышки более 28 °С
                    </td>
                </tr>
                <tr>
                    <td rowspan="2" class="border-right">
                        <input type="checkbox" name="C" value="2" @((Model.C != null && @Model.C.Contains(2)) ? "checked" : "") />
                        Трудногорючие жидкости
                    </td>
                    <td rowspan="2" class="border-right">
                        <input type="checkbox" name="D" value="2" @((Model.D != null && @Model.D.Contains(2)) ? "checked" : "") />
                        Сжигаемые в качестве топлива горючие газы, жидкости и твердые вещества, которые
                    </td>
                </tr>
                <tr>
                    <td class="border-right">
                        <input type="checkbox" name="A" value="3" @((Model.A != null && @Model.A.Contains(3)) ? "checked" : "") />
                        Способные взрываться и гореть вещества и материалы при взаимодействии с водой, кислородом воздуха или друг с другом
                    </td>
                    <td class="border-right">
                        <input type="checkbox" name="B" value="3" @((Model.B != null && @Model.B.Contains(3)) ? "checked" : "") />
                        Горючие жидкости
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="row">
        <h3>Введите сведения об организации</h3>
    </div>
    <div class="row well organization">
        <div class="col-xs-4">
            <h4>Наименование организации</h4>
            @Html.ValidationMessageFor(m => m.Name, "", new { @class = "text-danger" })

            @Html.TextBoxFor(m => m.Name)
            <h4>Адрес</h4>
            @Html.TextBoxFor(m => m.Address)
            <h4>Наименование помещения</h4>
            @Html.TextAreaFor(model => model.Annotation, 5, 25, null)
        </div>
        <div class="col-xs-4">
            <h4>Краткая характеристика объекта</h4>
            @Html.TextAreaFor(model => model.Characteristic, 10, 25, null)
        </div>
        <div class="col-xs-4">
            <h4>Длина, м</h4>
            @Html.ValidationMessageFor(m => m.Length, "", new { @class = "text-danger" })
            @Html.TextBoxFor(m => m.Length)
            <h4>Ширина, м</h4>
            @Html.ValidationMessageFor(m => m.Width, "", new { @class = "text-danger" })
            @Html.TextBoxFor(m => m.Width)
            <h4>Высота, м</h4>
            @Html.ValidationMessageFor(m => m.Height, "", new { @class = "text-danger" })
            @Html.TextBoxFor(m => m.Height)
        </div>
    </div>
    <div class="row">
        <input type="submit" class="btn" value="Начать" />
    </div>
}
<script>
    $(document).on('click', 'td', function () {
        $(this).toggleClass('selected');
        var target = $(this).find('input[type="checkbox"]');
        target.prop('checked', !target.prop('checked'));
    });
    $(function () {
        $('input[type=checkbox]').each(function() {
            if ($(this).is(":checked")) {
                $(this).parent().toggleClass('selected');
           }
        });
    });
</script>